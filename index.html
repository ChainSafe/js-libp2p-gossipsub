<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>libp2p-gossipsub 0.6.2 | Documentation</title>
  <meta name='description' content='A typescript implementation of gossipsub'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>libp2p-gossipsub</h3>
          <div class='mb1'><code>0.6.2</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#direct'
                  class="">
                  direct
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#seencache'
                  class="">
                  seenCache
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#mesh'
                  class="">
                  mesh
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#fanout'
                  class="">
                  fanout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#lastpub'
                  class="">
                  lastpub
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossip'
                  class="">
                  gossip
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#control'
                  class="">
                  control
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#peerhave'
                  class="">
                  peerhave
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#iasked'
                  class="">
                  iasked
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#backoff'
                  class="">
                  backoff
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#outbound'
                  class="">
                  outbound
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#defaultmsgidfn'
                  class="">
                  defaultMsgIdFn
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#messagecache'
                  class="">
                  messageCache
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#heartbeat'
                  class="">
                  heartbeat
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#heartbeatticks'
                  class="">
                  heartbeatTicks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossiptracer'
                  class="">
                  gossipTracer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_libp2p'
                  class="">
                  _libp2p
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#score'
                  class="">
                  score
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_decoderpc'
                  class="">
                  _decodeRpc
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_encoderpc'
                  class="">
                  _encodeRpc
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_addpeer'
                  class="">
                  _addPeer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_removepeer'
                  class="">
                  _removePeer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_processrpc'
                  class="">
                  _processRpc
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_processrpccontrolmessage'
                  class="">
                  _processRpcControlMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_processrpcmessage'
                  class="">
                  _processRpcMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_acceptfrom'
                  class="">
                  _acceptFrom
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validate'
                  class="">
                  validate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_handleihave'
                  class="">
                  _handleIHave
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_handleiwant'
                  class="">
                  _handleIWant
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_handlegraft'
                  class="">
                  _handleGraft
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_handleprune'
                  class="">
                  _handlePrune
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_addbackoff'
                  class="">
                  _addBackoff
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_doaddbackoff'
                  class="">
                  _doAddBackoff
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_applyiwantpenalties'
                  class="">
                  _applyIwantPenalties
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_clearbackoff'
                  class="">
                  _clearBackoff
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_directconnect'
                  class="">
                  _directConnect
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_pxconnect'
                  class="">
                  _pxConnect
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#start'
                  class="">
                  start
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#stop'
                  class="">
                  stop
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_connect'
                  class="">
                  _connect
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#subscribe'
                  class="">
                  subscribe
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#unsubscribe'
                  class="">
                  unsubscribe
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#join'
                  class="">
                  join
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#leave'
                  class="">
                  leave
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getmsgid'
                  class="">
                  getMsgId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_publish'
                  class="">
                  _publish
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendgraft'
                  class="">
                  _sendGraft
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendprune'
                  class="">
                  _sendPrune
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendrpc'
                  class="">
                  _sendRpc
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_sendgraftprune'
                  class="">
                  _sendGraftPrune
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_emitgossip'
                  class="">
                  _emitGossip
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_flush'
                  class="">
                  _flush
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_pushgossip'
                  class="">
                  _pushGossip
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_now'
                  class="">
                  _now
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_makeprune'
                  class="">
                  _makePrune
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#msgs'
                  class="">
                  msgs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#history'
                  class="">
                  history
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossip'
                  class="">
                  gossip
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#msgidfn'
                  class="">
                  msgIdFn
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#put'
                  class="">
                  put
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getmsgid'
                  class="">
                  getMsgId
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#get'
                  class="">
                  get
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getforpeer'
                  class="">
                  getForPeer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getgossipids'
                  class="">
                  getGossipIDs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#shift'
                  class="">
                  shift
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubidv10'
                  class="">
                  GossipsubIDv10
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubidv11'
                  class="">
                  GossipsubIDv11
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubd'
                  class="">
                  GossipsubD
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdlo'
                  class="">
                  GossipsubDlo
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdhi'
                  class="">
                  GossipsubDhi
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdscore'
                  class="">
                  GossipsubDscore
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdout'
                  class="">
                  GossipsubDout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubhistorylength'
                  class="">
                  GossipsubHistoryLength
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubhistorygossip'
                  class="">
                  GossipsubHistoryGossip
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdlazy'
                  class="">
                  GossipsubDlazy
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubgossipfactor'
                  class="">
                  GossipsubGossipFactor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubgossipretransmission'
                  class="">
                  GossipsubGossipRetransmission
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubheartbeatinitialdelay'
                  class="">
                  GossipsubHeartbeatInitialDelay
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubheartbeatinterval'
                  class="">
                  GossipsubHeartbeatInterval
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubfanoutttl'
                  class="">
                  GossipsubFanoutTTL
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubprunepeers'
                  class="">
                  GossipsubPrunePeers
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubprunebackoff'
                  class="">
                  GossipsubPruneBackoff
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubprunebackoffticks'
                  class="">
                  GossipsubPruneBackoffTicks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubconnectors'
                  class="">
                  GossipsubConnectors
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubmaxpendingconnections'
                  class="">
                  GossipsubMaxPendingConnections
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubconnectiontimeout'
                  class="">
                  GossipsubConnectionTimeout
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdirectconnectticks'
                  class="">
                  GossipsubDirectConnectTicks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubdirectconnectinitialdelay'
                  class="">
                  GossipsubDirectConnectInitialDelay
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubopportunisticgraftticks'
                  class="">
                  GossipsubOpportunisticGraftTicks
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubopportunisticgraftpeers'
                  class="">
                  GossipsubOpportunisticGraftPeers
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubgraftfloodthreshold'
                  class="">
                  GossipsubGraftFloodThreshold
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubmaxihavelength'
                  class="">
                  GossipsubMaxIHaveLength
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubmaxihavemessages'
                  class="">
                  GossipsubMaxIHaveMessages
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#gossipsubiwantfollowuptime'
                  class="">
                  GossipsubIWantFollowupTime
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#constructor'
                  class="">
                  constructor
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#stop'
                  class="">
                  stop
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_heartbeat'
                  class="">
                  _heartbeat
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getgossippeers'
                  class="">
                  getGossipPeers
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#creategossiprpc'
                  class="">
                  createGossipRpc
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#shuffle'
                  class="">
                  shuffle
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#start'
                  class="">
                  start
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#stop'
                  class="">
                  stop
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#background'
                  class="">
                  background
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_refreshscores'
                  class="">
                  _refreshScores
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#score'
                  class="">
                  score
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addpenalty'
                  class="">
                  addPenalty
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#addpeer'
                  class="">
                  addPeer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#removepeer'
                  class="">
                  removePeer
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#graft'
                  class="">
                  graft
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#prune'
                  class="">
                  prune
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validatemessage'
                  class="">
                  validateMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#delivermessage'
                  class="">
                  deliverMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#rejectmessage'
                  class="">
                  rejectMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#duplicatemessage'
                  class="">
                  duplicateMessage
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_markinvalidmessagedelivery'
                  class="">
                  _markInvalidMessageDelivery
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_markfirstmessagedelivery'
                  class="">
                  _markFirstMessageDelivery
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_markduplicatemessagedelivery'
                  class="">
                  _markDuplicateMessageDelivery
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_getips'
                  class="">
                  _getIPs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_setips'
                  class="">
                  _setIPs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_removeips'
                  class="">
                  _removeIPs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#_updateips'
                  class="">
                  _updateIPs
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deliveryrecordstatus'
                  class="">
                  DeliveryRecordStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deliveryrecordstatus'
                  class="">
                  DeliveryRecordStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deliveryrecordstatus'
                  class="">
                  DeliveryRecordStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#deliveryrecordstatus'
                  class="">
                  DeliveryRecordStatus
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#messagedeliveries'
                  class="">
                  MessageDeliveries
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#iwanttracer'
                  class=" toggle-sibling">
                  IWantTracer
                  <span class='icon'>â–¸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#iwanttraceraddpromise'
                        class='regular pre-open'>
                        #addPromise
                      </a></li>
                      
                      <li><a
                        href='#iwanttracergetbrokenpromises'
                        class='regular pre-open'>
                        #getBrokenPromises
                      </a></li>
                      
                      <li><a
                        href='#iwanttracerdelivermessage'
                        class='regular pre-open'>
                        #deliverMessage
                      </a></li>
                      
                      <li><a
                        href='#iwanttracerrejectmessage'
                        class='regular pre-open'>
                        #rejectMessage
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L67-L179'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>new constructor(libp2p: Libp2p, options: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>libp2p</span> <code class='quiet'>(Libp2p)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>options</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?
            = <code>{}</code>)</code>
	    
          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>options.emitSelf</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if publish should emit to self, if subscribed, defaults to false
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.gossipIncoming</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if incoming messages on a subscribed topic should be automatically gossiped, defaults to true
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.fallbackToFloodsub</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if dial should fallback to floodsub, defaults to true
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.floodPublish</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if self-published messages should be sent to all peers, defaults to true
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.doPX</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>whether PX is enabled; this should be enabled in bootstrappers and other well connected/trusted nodes. defaults to false
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.msgIdFn</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">function</a>?</code>
  </td>
  <td class='break-word'><span>override the default message id function
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.messageCache</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?</code>
  </td>
  <td class='break-word'><span>override the default MessageCache
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.signMessages</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if we want to sign outgoing messages or not (default: true)
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.strictSigning</span> <code class='quiet'>bool?</code>
  </td>
  <td class='break-word'><span>if message signing is required for incoming messages or not (default: true)
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.scoreParams</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?</code>
  </td>
  <td class='break-word'><span>peer score parameters
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.scoreThresholds</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?</code>
  </td>
  <td class='break-word'><span>peer score thresholds
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>options.directPeers</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;AddrInfo>?</code>
  </td>
  <td class='break-word'><span>peers with which we will maintain direct connections
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='direct'>
      direct
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L81-L81'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Direct peers</p>

    <div class='pre p1 fill-light mt0'>direct</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='seencache'>
      seenCache
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L91-L91'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Cache of seen messages</p>

    <div class='pre p1 fill-light mt0'>seenCache</div>
  
    <p>
      Type:
      TimeCache
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mesh'>
      mesh
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L98-L98'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Map of topic meshes
topic => peer id set</p>

    <div class='pre p1 fill-light mt0'>mesh</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='fanout'>
      fanout
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L105-L105'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Map of topics to set of peers. These mesh peers are the ones to which we are publishing without a topic membership
topic => peer id set</p>

    <div class='pre p1 fill-light mt0'>fanout</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='lastpub'>
      lastpub
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L112-L112'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Map of last publish time for fanout topics
topic => last publish time</p>

    <div class='pre p1 fill-light mt0'>lastpub</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossip'>
      gossip
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L119-L119'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Map of pending messages to gossip
peer id => control messages</p>

    <div class='pre p1 fill-light mt0'>gossip</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='control'>
      control
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L126-L126'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Map of control messages
peer id => control message</p>

    <div class='pre p1 fill-light mt0'>control</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='peerhave'>
      peerhave
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L131-L131'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Number of IHAVEs received from peer in the last heartbeat</p>

    <div class='pre p1 fill-light mt0'>peerhave</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='iasked'>
      iasked
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L136-L136'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Number of messages we have asked from peer in the last heartbeat</p>

    <div class='pre p1 fill-light mt0'>iasked</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='backoff'>
      backoff
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L140-L140'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Prune backoff map</p>

    <div class='pre p1 fill-light mt0'>backoff</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='outbound'>
      outbound
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L147-L147'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Connection direction cache, marks peers with outbound connections
peer id => direction</p>

    <div class='pre p1 fill-light mt0'>outbound</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='defaultmsgidfn'>
      defaultMsgIdFn
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L151-L151'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Use the overriden mesgIdFn or the default one.</p>

    <div class='pre p1 fill-light mt0'>defaultMsgIdFn(msg: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='messagecache'>
      messageCache
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L157-L157'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>A message cache that contains the messages for last few hearbeat ticks</p>

    <div class='pre p1 fill-light mt0'>messageCache</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='heartbeat'>
      heartbeat
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L161-L161'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>A heartbeat timer that maintains the mesh</p>

    <div class='pre p1 fill-light mt0'>heartbeat</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='heartbeatticks'>
      heartbeatTicks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L166-L166'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Number of heartbeats since the beginning of time
This allows us to amortize some resource cleanup -- eg: backoff cleanup</p>

    <div class='pre p1 fill-light mt0'>heartbeatTicks</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossiptracer'>
      gossipTracer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L170-L170'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Tracks IHAVE/IWANT promises broken by peers</p>

    <div class='pre p1 fill-light mt0'>gossipTracer</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_libp2p'>
      _libp2p
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L174-L174'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>libp2p</p>

    <div class='pre p1 fill-light mt0'>_libp2p</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='score'>
      score
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L178-L178'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Peer score tracking</p>

    <div class='pre p1 fill-light mt0'>score</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_decoderpc'>
      _decodeRpc
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L187-L189'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Decode a Uint8Array into an RPC object
Overrided to use an extended protocol-specific protobuf decoder</p>

    <div class='pre p1 fill-light mt0'>_decodeRpc(bytes: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>): RPC</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>bytes</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>RPC</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_encoderpc'>
      _encodeRpc
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L197-L199'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Encode an RPC object into a Uint8Array
Overrided to use an extended protocol-specific protobuf encoder</p>

    <div class='pre p1 fill-light mt0'>_encodeRpc(rpc: RPC): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rpc</span> <code class='quiet'>(RPC)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_addpeer'>
      _addPeer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L207-L223'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Add a peer to the router</p>

    <div class='pre p1 fill-light mt0'>_addPeer(peerId: PeerId, protocol: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): PeerStreams</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>protocol</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>PeerStreams</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_removepeer'>
      _removePeer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L230-L252'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Removes a peer from the router</p>

    <div class='pre p1 fill-light mt0'>_removePeer(peerId: any, peer: PeerId): Peer</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peer</span> <code class='quiet'>(PeerId)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Peer</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_processrpc'>
      _processRpc
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L262-L270'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles an rpc request from a peer</p>

    <div class='pre p1 fill-light mt0'>_processRpc(id: any, peerStreams: PeerStreams, rpc: RPC, idB58Str: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerStreams</span> <code class='quiet'>(PeerStreams)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>rpc</span> <code class='quiet'>(RPC)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>idB58Str</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_processrpccontrolmessage'>
      _processRpcControlMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L277-L290'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles an rpc control message from a peer</p>

    <div class='pre p1 fill-light mt0'>_processRpcControlMessage(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, controlMsg: ControlMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>controlMsg</span> <code class='quiet'>(ControlMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_processrpcmessage'>
      _processRpcMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L298-L313'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Process incoming message,
emitting locally and forwarding on to relevant floodsub and gossipsub peers</p>

    <div class='pre p1 fill-light mt0'>_processRpcMessage(msg: InMessage): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_acceptfrom'>
      _acceptFrom
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L320-L322'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Whether to accept a message from a peer</p>

    <div class='pre p1 fill-light mt0'>_acceptFrom(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validate'>
      validate
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L329-L343'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Validate incoming message</p>

    <div class='pre p1 fill-light mt0'>validate(message: InMessage): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_handleihave'>
      _handleIHave
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L350-L402'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles IHAVE messages</p>

    <div class='pre p1 fill-light mt0'>_handleIHave(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, ihave: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIHave>): ControlIWant</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ihave</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIHave>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>ControlIWant</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_handleiwant'>
      _handleIWant
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L410-L440'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles IWANT messages
Returns messages to send back to peer</p>

    <div class='pre p1 fill-light mt0'>_handleIWant(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, iwant: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIWant>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Message></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>iwant</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIWant>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;Message></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_handlegraft'>
      _handleGraft
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L447-L524'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles Graft messages</p>

    <div class='pre p1 fill-light mt0'>_handleGraft(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, graft: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlGraft>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlPrune></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graft</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlGraft>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlPrune></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_handleprune'>
      _handlePrune
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L531-L561'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Handles Prune messages</p>

    <div class='pre p1 fill-light mt0'>_handlePrune(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, prune: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlPrune>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>prune</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlPrune>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_addbackoff'>
      _addBackoff
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L568-L570'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Add standard backoff log for a peer in a topic</p>

    <div class='pre p1 fill-light mt0'>_addBackoff(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_doaddbackoff'>
      _doAddBackoff
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L578-L589'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Add backoff expiry interval for a peer in a topic</p>

    <div class='pre p1 fill-light mt0'>_doAddBackoff(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, interval: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>interval</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    backoff duration in milliseconds

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_applyiwantpenalties'>
      _applyIwantPenalties
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L594-L599'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Apply penalties from broken IHAVE/IWANT promises</p>

    <div class='pre p1 fill-light mt0'>_applyIwantPenalties(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_clearbackoff'>
      _clearBackoff
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L604-L620'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Clear expired backoff expiries</p>

    <div class='pre p1 fill-light mt0'>_clearBackoff(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_directconnect'>
      _directConnect
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L625-L643'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Maybe reconnect to direct peers</p>

    <div class='pre p1 fill-light mt0'>_directConnect(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_pxconnect'>
      _pxConnect
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L649-L694'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Maybe attempt connection given signed peer records</p>

    <div class='pre p1 fill-light mt0'>_pxConnect(peers: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;PeerInfo>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peers</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;PeerInfo>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;void></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='start'>
      start
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L701-L711'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Mounts the gossipsub protocol onto the libp2p node and sends our
our subscriptions to every peer connected</p>

    <div class='pre p1 fill-light mt0'>start(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='stop'>
      stop
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L717-L732'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Unmounts the gossipsub protocol and shuts down every connection</p>

    <div class='pre p1 fill-light mt0'>stop(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_connect'>
      _connect
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L738-L741'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Connect to a peer using the gossipsub protocol</p>

    <div class='pre p1 fill-light mt0'>_connect(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='subscribe'>
      subscribe
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L748-L751'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Subscribes to a topic</p>

    <div class='pre p1 fill-light mt0'>subscribe(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='unsubscribe'>
      unsubscribe
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L758-L761'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Unsubscribe to a topic</p>

    <div class='pre p1 fill-light mt0'>unsubscribe(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='join'>
      join
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L767-L803'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Join topic</p>

    <div class='pre p1 fill-light mt0'>join(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='leave'>
      leave
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L809-L823'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Leave topic</p>

    <div class='pre p1 fill-light mt0'>leave(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getmsgid'>
      getMsgId
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L831-L833'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Override the default implementation in BasicPubSub.
If we don't provide msgIdFn in constructor option, it's the same.</p>

    <div class='pre p1 fill-light mt0'>getMsgId(msg: Message): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(Message)</code>
	    the message object

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        message id as string

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_publish'>
      _publish
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L841-L922'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Publish messages</p>

    <div class='pre p1 fill-light mt0'>_publish(msg: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendgraft'>
      _sendGraft
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L929-L935'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Sends a GRAFT message to a peer</p>

    <div class='pre p1 fill-light mt0'>_sendGraft(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendprune'>
      _sendPrune
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L942-L948'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Sends a PRUNE message to a peer</p>

    <div class='pre p1 fill-light mt0'>_sendPrune(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendrpc'>
      _sendRpc
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L952-L970'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>_sendRpc(id: any, outRpc: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>outRpc</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_sendgraftprune'>
      _sendGraftPrune
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L998-L1017'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Send graft and prune messages</p>

    <div class='pre p1 fill-light mt0'>_sendGraftPrune(tograft: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>, toprune: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>, noPX: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>tograft</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>)</code>
	    peer id => topic[]

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>toprune</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>>)</code>
	    peer id => topic[]

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>noPX</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_emitgossip'>
      _emitGossip
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L1024-L1083'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Emits gossip to peers in a particular topic</p>

    <div class='pre p1 fill-light mt0'>_emitGossip(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, exclude: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>exclude</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    peers to exclude

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_flush'>
      _flush
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L1087-L1100'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Flush gossip and control messages</p>

    <div class='pre p1 fill-light mt0'>_flush()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_pushgossip'>
      _pushGossip
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L1107-L1111'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Adds new IHAVE messages to pending gossip</p>

    <div class='pre p1 fill-light mt0'>_pushGossip(id: any, controlIHaveMsgs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIHave>, peerStreams: PeerStreams): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>controlIHaveMsgs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;ControlIHave>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerStreams</span> <code class='quiet'>(PeerStreams)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_now'>
      _now
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L1116-L1118'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Returns the current time in milliseconds</p>

    <div class='pre p1 fill-light mt0'>_now(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_makeprune'>
      _makePrune
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/index.js#L1126-L1160'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Make a PRUNE control message for a peer in a topic</p>

    <div class='pre p1 fill-light mt0'>_makePrune(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, doPX: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): ControlPrune</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>doPX</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>ControlPrune</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L12-L33'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>new constructor(gossip: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>, history: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>, msgIdFn: msgIdFn)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>gossip</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>history</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msgIdFn</span> <code class='quiet'>(msgIdFn)</code>
	    a function that returns message id from a message

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='msgs'>
      msgs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L16-L16'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>msgs</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, RPC.Message>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='history'>
      history
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L21-L21'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>history</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;CacheEntry>>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossip'>
      gossip
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L28-L28'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>gossip</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='msgidfn'>
      msgIdFn
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L32-L32'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>msgIdFn</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>
    </p>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='put'>
      put
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L40-L44'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Adds a message to the current window and the cache</p>

    <div class='pre p1 fill-light mt0'>put(msg: RPC.Message): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(RPC.Message)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getmsgid'>
      getMsgId
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L50-L52'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Get message id of message.</p>

    <div class='pre p1 fill-light mt0'>getMsgId(msg: RPC.Message): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(RPC.Message)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='get'>
      get
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L59-L61'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Retrieves a message from the cache by its ID, if it is still present</p>

    <div class='pre p1 fill-light mt0'>get(msgID: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>): Message</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msgID</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>Message</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getforpeer'>
      getForPeer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L71-L84'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Retrieves a message from the cache by its ID, if it is present
for a specific peer.
Returns the message and the number of times the peer has requested the message</p>

    <div class='pre p1 fill-light mt0'>getForPeer(msgID: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, p: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msgID</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>p</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getgossipids'>
      getGossipIDs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L92-L105'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Retrieves a list of message IDs for a given topic</p>

    <div class='pre p1 fill-light mt0'>getGossipIDs(topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='shift'>
      shift
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/message-cache.js#L111-L119'>
      <span>src/message-cache.js</span>
      </a>
    
  </div>
  

  <p>Shifts the current window, discarding messages older than this.history.length of the cache</p>

    <div class='pre p1 fill-light mt0'>shift(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubidv10'>
      GossipsubIDv10
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L12-L12'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>The protocol ID for version 1.0.0 of the Gossipsub protocol
It is advertised along with GossipsubIDv11 for backwards compatability</p>

    <div class='pre p1 fill-light mt0'>GossipsubIDv10</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubidv11'>
      GossipsubIDv11
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L18-L18'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>The protocol ID for version 1.1.0 of the Gossipsub protocol
See the spec for details about how v1.1.0 compares to v1.0.0:
<a href="https://github.com/libp2p/specs/blob/master/pubsub/gossipsub/gossipsub-v1.1.md">https://github.com/libp2p/specs/blob/master/pubsub/gossipsub/gossipsub-v1.1.md</a></p>

    <div class='pre p1 fill-light mt0'>GossipsubIDv11</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubd'>
      GossipsubD
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L25-L25'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubD sets the optimal degree for a Gossipsub topic mesh. For example, if GossipsubD == 6,
each peer will want to have about six peers in their mesh for each topic they're subscribed to.
GossipsubD should be set somewhere between GossipsubDlo and GossipsubDhi.</p>

    <div class='pre p1 fill-light mt0'>GossipsubD</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdlo'>
      GossipsubDlo
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L31-L31'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDlo sets the lower bound on the number of peers we keep in a Gossipsub topic mesh.
If we have fewer than GossipsubDlo peers, we will attempt to graft some more into the mesh at
the next heartbeat.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDlo</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdhi'>
      GossipsubDhi
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L36-L36'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDhi sets the upper bound on the number of peers we keep in a Gossipsub topic mesh.
If we have more than GossipsubDhi peers, we will select some to prune from the mesh at the next heartbeat.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDhi</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdscore'>
      GossipsubDscore
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L42-L42'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDscore affects how peers are selected when pruning a mesh due to over subscription.
At least GossipsubDscore of the retained peers will be high-scoring, while the remainder are
chosen randomly.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDscore</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdout'>
      GossipsubDout
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L51-L51'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDout sets the quota for the number of outbound connections to maintain in a topic mesh.
When the mesh is pruned due to over subscription, we make sure that we have outbound connections
to at least GossipsubDout of the survivor peers. This prevents sybil attackers from overwhelming
our mesh with incoming connections.</p>
<p>GossipsubDout must be set below GossipsubDlo, and must not exceed GossipsubD / 2.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDout</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubhistorylength'>
      GossipsubHistoryLength
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L57-L57'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubHistoryLength controls the size of the message cache used for gossip.
The message cache will remember messages for GossipsubHistoryLength heartbeats.</p>

    <div class='pre p1 fill-light mt0'>GossipsubHistoryLength</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubhistorygossip'>
      GossipsubHistoryGossip
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L68-L68'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubHistoryGossip controls how many cached message ids we will advertise in
IHAVE gossip messages. When asked for our seen message IDs, we will return
only those from the most recent GossipsubHistoryGossip heartbeats. The slack between
GossipsubHistoryGossip and GossipsubHistoryLength allows us to avoid advertising messages
that will be expired by the time they're requested.</p>
<p>GossipsubHistoryGossip must be less than or equal to GossipsubHistoryLength to
avoid a runtime panic.</p>

    <div class='pre p1 fill-light mt0'>GossipsubHistoryGossip</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdlazy'>
      GossipsubDlazy
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L75-L75'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDlazy affects how many peers we will emit gossip to at each heartbeat.
We will send gossip to at least GossipsubDlazy peers outside our mesh. The actual
number may be more, depending on GossipsubGossipFactor and how many peers we're
connected to.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDlazy</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubgossipfactor'>
      GossipsubGossipFactor
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L81-L81'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubGossipFactor affects how many peers we will emit gossip to at each heartbeat.
We will send gossip to GossipsubGossipFactor * (total number of non-mesh peers), or
GossipsubDlazy, whichever is greater.</p>

    <div class='pre p1 fill-light mt0'>GossipsubGossipFactor</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubgossipretransmission'>
      GossipsubGossipRetransmission
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L87-L87'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubGossipRetransmission controls how many times we will allow a peer to request
the same message id through IWANT gossip before we start ignoring them. This is designed
to prevent peers from spamming us with requests and wasting our resources.</p>

    <div class='pre p1 fill-light mt0'>GossipsubGossipRetransmission</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubheartbeatinitialdelay'>
      GossipsubHeartbeatInitialDelay
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L93-L93'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubHeartbeatInitialDelay is the short delay before the heartbeat timer begins
after the router is initialized.</p>

    <div class='pre p1 fill-light mt0'>GossipsubHeartbeatInitialDelay</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubheartbeatinterval'>
      GossipsubHeartbeatInterval
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L97-L97'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubHeartbeatInterval controls the time between heartbeats.</p>

    <div class='pre p1 fill-light mt0'>GossipsubHeartbeatInterval</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubfanoutttl'>
      GossipsubFanoutTTL
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L103-L103'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubFanoutTTL controls how long we keep track of the fanout state. If it's been
GossipsubFanoutTTL since we've published to a topic that we're not subscribed to,
we'll delete the fanout map for that topic.</p>

    <div class='pre p1 fill-light mt0'>GossipsubFanoutTTL</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubprunepeers'>
      GossipsubPrunePeers
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L110-L110'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubPrunePeers controls the number of peers to include in prune Peer eXchange.
When we prune a peer that's eligible for PX (has a good score, etc), we will try to
send them signed peer records for up to GossipsubPrunePeers other peers that we
know of.</p>

    <div class='pre p1 fill-light mt0'>GossipsubPrunePeers</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubprunebackoff'>
      GossipsubPruneBackoff
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L119-L119'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubPruneBackoff controls the backoff time for pruned peers. This is how long
a peer must wait before attempting to graft into our mesh again after being pruned.
When pruning a peer, we send them our value of GossipsubPruneBackoff so they know
the minimum time to wait. Peers running older versions may not send a backoff time,
so if we receive a prune message without one, we will wait at least GossipsubPruneBackoff
before attempting to re-graft.</p>

    <div class='pre p1 fill-light mt0'>GossipsubPruneBackoff</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubprunebackoffticks'>
      GossipsubPruneBackoffTicks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L124-L124'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubPruneBackoffTicks is the number of heartbeat ticks for attempting to prune expired
backoff timers.</p>

    <div class='pre p1 fill-light mt0'>GossipsubPruneBackoffTicks</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubconnectors'>
      GossipsubConnectors
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L128-L128'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubConnectors controls the number of active connection attempts for peers obtained through PX.</p>

    <div class='pre p1 fill-light mt0'>GossipsubConnectors</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubmaxpendingconnections'>
      GossipsubMaxPendingConnections
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L132-L132'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubMaxPendingConnections sets the maximum number of pending connections for peers attempted through px.</p>

    <div class='pre p1 fill-light mt0'>GossipsubMaxPendingConnections</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubconnectiontimeout'>
      GossipsubConnectionTimeout
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L136-L136'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubConnectionTimeout controls the timeout for connection attempts.</p>

    <div class='pre p1 fill-light mt0'>GossipsubConnectionTimeout</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdirectconnectticks'>
      GossipsubDirectConnectTicks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L141-L141'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDirectConnectTicks is the number of heartbeat ticks for attempting to reconnect direct peers
that are not currently connected.</p>

    <div class='pre p1 fill-light mt0'>GossipsubDirectConnectTicks</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubdirectconnectinitialdelay'>
      GossipsubDirectConnectInitialDelay
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L145-L145'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubDirectConnectInitialDelay is the initial delay before opening connections to direct peers</p>

    <div class='pre p1 fill-light mt0'>GossipsubDirectConnectInitialDelay</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubopportunisticgraftticks'>
      GossipsubOpportunisticGraftTicks
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L152-L152'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubOpportunisticGraftTicks is the number of heartbeat ticks for attempting to improve the mesh
with opportunistic grafting. Every GossipsubOpportunisticGraftTicks we will attempt to select some
high-scoring mesh peers to replace lower-scoring ones, if the median score of our mesh peers falls
below a threshold</p>

    <div class='pre p1 fill-light mt0'>GossipsubOpportunisticGraftTicks</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubopportunisticgraftpeers'>
      GossipsubOpportunisticGraftPeers
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L156-L156'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubOpportunisticGraftPeers is the number of peers to opportunistically graft.</p>

    <div class='pre p1 fill-light mt0'>GossipsubOpportunisticGraftPeers</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubgraftfloodthreshold'>
      GossipsubGraftFloodThreshold
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L161-L161'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>If a GRAFT comes before GossipsubGraftFloodThreshold has elapsed since the last PRUNE,
then there is an extra score penalty applied to the peer through P7.</p>

    <div class='pre p1 fill-light mt0'>GossipsubGraftFloodThreshold</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubmaxihavelength'>
      GossipsubMaxIHaveLength
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L169-L169'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubMaxIHaveLength is the maximum number of messages to include in an IHAVE message.
Also controls the maximum number of IHAVE ids we will accept and request with IWANT from a
peer within a heartbeat, to protect from IHAVE floods. You should adjust this value from the
default if your system is pushing more than 5000 messages in GossipsubHistoryGossip heartbeats;
with the defaults this is 1666 messages/s.</p>

    <div class='pre p1 fill-light mt0'>GossipsubMaxIHaveLength</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubmaxihavemessages'>
      GossipsubMaxIHaveMessages
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L173-L173'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>GossipsubMaxIHaveMessages is the maximum number of IHAVE messages to accept from a peer within a heartbeat.</p>

    <div class='pre p1 fill-light mt0'>GossipsubMaxIHaveMessages</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='gossipsubiwantfollowuptime'>
      GossipsubIWantFollowupTime
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/constants.js#L179-L179'>
      <span>src/constants.js</span>
      </a>
    
  </div>
  

  <p>Time to wait for a message requested through IWANT following an IHAVE advertisement.
If the message is not received within this window, a broken promise is declared and
the router may apply bahavioural penalties.</p>

    <div class='pre p1 fill-light mt0'>GossipsubIWantFollowupTime</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='constructor'>
      constructor
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/heartbeat.js#L32-L34'>
      <span>src/heartbeat.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>new constructor(gossipsub: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>gossipsub</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='stop'>
      stop
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/heartbeat.js#L60-L66'>
      <span>src/heartbeat.js</span>
      </a>
    
  </div>
  

  <p>Unmounts the gossipsub protocol and shuts down every connection</p>

    <div class='pre p1 fill-light mt0'>stop(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_heartbeat'>
      _heartbeat
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/heartbeat.js#L72-L292'>
      <span>src/heartbeat.js</span>
      </a>
    
  </div>
  

  <p>Maintains the mesh and fanout maps in gossipsub.</p>

    <div class='pre p1 fill-light mt0'>_heartbeat(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getgossippeers'>
      getGossipPeers
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/get-gossip-peers.js#L16-L40'>
      <span>src/get-gossip-peers.js</span>
      </a>
    
  </div>
  

  <p>Given a topic, returns up to count peers subscribed to that topic
that pass an optional filter function</p>

    <div class='pre p1 fill-light mt0'>getGossipPeers(router: Gossipsub, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>, count: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>, filter: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>?): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>router</span> <code class='quiet'>(Gossipsub)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>count</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>filter</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function">Function</a>?
            = <code>()=&gt;true</code>)</code>
	    a function to filter acceptable peers

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='creategossiprpc'>
      createGossipRpc
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/utils/create-gossip-rpc.js#L10-L16'>
      <span>src/utils/create-gossip-rpc.js</span>
      </a>
    
  </div>
  

  <p>Create a gossipsub RPC object</p>

    <div class='pre p1 fill-light mt0'>createGossipRpc(msgs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;RPC.Message>, control: Partial&#x3C;RPC.ControlMessage>): RPC</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msgs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;RPC.Message>
            = <code>[]</code>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>control</span> <code class='quiet'>(Partial&#x3C;RPC.ControlMessage>
            = <code>{}</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>RPC</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='shuffle'>
      shuffle
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/utils/shuffle.js#L12-L26'>
      <span>src/utils/shuffle.js</span>
      </a>
    
  </div>
  

  <p>Pseudo-randomly shuffles an array</p>
<p>Mutates the input array</p>

    <div class='pre p1 fill-light mt0'>shuffle(arr: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>arr</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='start'>
      start
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L32-L39'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Start PeerScore instance</p>

    <div class='pre p1 fill-light mt0'>start(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='stop'>
      stop
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L44-L55'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Stop PeerScore instance</p>

    <div class='pre p1 fill-light mt0'>stop(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='background'>
      background
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L60-L64'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Periodic maintenance</p>

    <div class='pre p1 fill-light mt0'>background(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_refreshscores'>
      _refreshScores
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L69-L124'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Decays scores, and purges score records for disconnected peers once their expiry has elapsed.</p>

    <div class='pre p1 fill-light mt0'>_refreshScores(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='score'>
      score
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L130-L136'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Return the score for a peer</p>

    <div class='pre p1 fill-light mt0'>score(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addpenalty'>
      addPenalty
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L143-L149'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Apply a behavioural penalty to a peer</p>

    <div class='pre p1 fill-light mt0'>addPenalty(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, penalty: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>penalty</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='addpeer'>
      addPeer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L154-L165'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>addPeer(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='removepeer'>
      removePeer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L170-L195'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>removePeer(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='graft'>
      graft
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L201-L214'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>graft(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='prune'>
      prune
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L220-L236'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>prune(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, topic: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>topic</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validatemessage'>
      validateMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L241-L243'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>validateMessage(message: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='delivermessage'>
      deliverMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L248-L268'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>deliverMessage(message: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='rejectmessage'>
      rejectMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L274-L300'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>rejectMessage(message: InMessage, reason: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>reason</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='duplicatemessage'>
      duplicateMessage
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L305-L328'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  
    <div class='pre p1 fill-light mt0'>duplicateMessage(message: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_markinvalidmessagedelivery'>
      _markInvalidMessageDelivery
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L335-L347'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Increments the "invalid message deliveries" counter for all scored topics the message is published in.</p>

    <div class='pre p1 fill-light mt0'>_markInvalidMessageDelivery(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, message: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_markfirstmessagedelivery'>
      _markFirstMessageDelivery
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L355-L379'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Increments the "first message deliveries" counter for all scored topics the message is published in,
as well as the "mesh message deliveries" counter, if the peer is in the mesh for the topic.</p>

    <div class='pre p1 fill-light mt0'>_markFirstMessageDelivery(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, message: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_markduplicatemessagedelivery'>
      _markDuplicateMessageDelivery
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L388-L415'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Increments the "mesh message deliveries" counter for messages we've seen before,
as long the message was received within the P3 window.</p>

    <div class='pre p1 fill-light mt0'>_markDuplicateMessageDelivery(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, message: InMessage, validatedTime: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>message</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>validatedTime</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
            = <code>0</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_getips'>
      _getIPs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L421-L424'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Gets the current IPs for a peer.</p>

    <div class='pre p1 fill-light mt0'>_getIPs(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_setips'>
      _setIPs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L432-L471'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Adds tracking for the new IPs in the list, and removes tracking from the obsolete IPs.</p>

    <div class='pre p1 fill-light mt0'>_setIPs(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, newIPs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, oldIPs: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>newIPs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>oldIPs</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_removeips'>
      _removeIPs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L478-L489'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Removes an IP list from the tracking list for a peer.</p>

    <div class='pre p1 fill-light mt0'>_removeIPs(id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, ips: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>id</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>ips</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='_updateips'>
      _updateIPs
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/peer-score.js#L494-L500'>
      <span>src/score/peer-score.js</span>
      </a>
    
  </div>
  

  <p>Update all peer IPs to currently open connections</p>

    <div class='pre p1 fill-light mt0'>_updateIPs(): void</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deliveryrecordstatus'>
      DeliveryRecordStatus
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/message-deliveries.js#L14-L14'>
      <span>src/score/message-deliveries.js</span>
      </a>
    
  </div>
  

  <p>we don't know (yet) if the message is valid</p>

    <div class='pre p1 fill-light mt0'>DeliveryRecordStatus</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deliveryrecordstatus'>
      DeliveryRecordStatus
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/message-deliveries.js#L18-L18'>
      <span>src/score/message-deliveries.js</span>
      </a>
    
  </div>
  

  <p>we know the message is valid</p>

    <div class='pre p1 fill-light mt0'>DeliveryRecordStatus</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deliveryrecordstatus'>
      DeliveryRecordStatus
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/message-deliveries.js#L22-L22'>
      <span>src/score/message-deliveries.js</span>
      </a>
    
  </div>
  

  <p>we know the message is invalid</p>

    <div class='pre p1 fill-light mt0'>DeliveryRecordStatus</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='deliveryrecordstatus'>
      DeliveryRecordStatus
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/message-deliveries.js#L26-L26'>
      <span>src/score/message-deliveries.js</span>
      </a>
    
  </div>
  

  <p>we were instructed by the validator to ignore the message</p>

    <div class='pre p1 fill-light mt0'>DeliveryRecordStatus</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='messagedeliveries'>
      MessageDeliveries
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/score/message-deliveries.js#L33-L75'>
      <span>src/score/message-deliveries.js</span>
      </a>
    
  </div>
  

  <p>Map of message ID to DeliveryRecord</p>
<p>Maintains an internal queue for efficient gc of old messages</p>

    <div class='pre p1 fill-light mt0'>new MessageDeliveries()</div>
  
  

  
  
  
  
  
  

  

  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='iwanttracer'>
      IWantTracer
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/tracer.js#L17-L92'>
      <span>src/tracer.js</span>
      </a>
    
  </div>
  

  <p>IWantTracer is an internal tracer that tracks IWANT requests in order to penalize
peers who don't follow up on IWANT requests after an IHAVE advertisement.
The tracking of promises is probabilistic to avoid using too much memory.</p>
<p>Note: Do not confuse these 'promises' with JS Promise objects.
These 'promises' are merely expectations of a peer's behavior.</p>

    <div class='pre p1 fill-light mt0'>new IWantTracer(getMsgId: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>getMsgId</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='iwanttraceraddpromise'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>â–¸</a>
            <span class='code strong strong truncate'>addPromise(p, msgIds)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/tracer.js#L28-L40'>
      <span>src/tracer.js</span>
      </a>
    
  </div>
  

  <p>Track a promise to deliver a message from a list of msgIDs we are requesting</p>

    <div class='pre p1 fill-light mt0'>addPromise(p: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, msgIds: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>p</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    peer id

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msgIds</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='iwanttracergetbrokenpromises'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>â–¸</a>
            <span class='code strong strong truncate'>getBrokenPromises()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/tracer.js#L45-L64'>
      <span>src/tracer.js</span>
      </a>
    
  </div>
  

  <p>Returns the number of broken promises for each peer who didn't follow up on an IWANT request.</p>

    <div class='pre p1 fill-light mt0'>getBrokenPromises(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='iwanttracerdelivermessage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>â–¸</a>
            <span class='code strong strong truncate'>deliverMessage(msg)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/tracer.js#L70-L73'>
      <span>src/tracer.js</span>
      </a>
    
  </div>
  

  <p>Someone delivered a message, stop tracking promises for it</p>

    <div class='pre p1 fill-light mt0'>deliverMessage(msg: InMessage): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='iwanttracerrejectmessage'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>â–¸</a>
            <span class='code strong strong truncate'>rejectMessage(msg, reason)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ChainSafe/js-libp2p-gossipsub/blob/00ebb105d9c69498367ccc65647b677cf1ecae90/src/tracer.js#L80-L88'>
      <span>src/tracer.js</span>
      </a>
    
  </div>
  

  <p>A message got rejected, so we can stop tracking promises and let the score penalty apply from invalid message delivery,
unless its an obviously invalid message.</p>

    <div class='pre p1 fill-light mt0'>rejectMessage(msg: InMessage, reason: any): void</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>msg</span> <code class='quiet'>(InMessage)</code>
	    
          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>reason</span> <code class='quiet'>(any)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>void</code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
